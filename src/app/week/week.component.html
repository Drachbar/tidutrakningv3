@let formattedWeekNo = (weekNo() ?? 0).toString();

<div [formGroup]="week">
  <legend class="d-flex justify-content-between w-100">
    <span class="text-start">{{year()}}</span>
    <span class="mx-auto">Vecka {{ formattedWeekNo }}</span>
  </legend>
  <button class="btn btn-primary mb-3" (click)="removeWeek.emit(parseInt(formattedWeekNo))">Ta bort vecka</button>
  <button class="btn btn-primary mb-3" (click)="toggleWeekends()">
    {{ showWeekends() ? 'Dölj helger' : 'Visa helger' }}
  </button>
  <div class="week">
    <div class="weekdays">
      @for (day of days; track i; let i = $index) {
        @if (day.name !== 'Lördag' && day.name !== 'Söndag') {
          <div>
            <app-day [formGroup]="day.group"
                     [weekNo]="formattedWeekNo"
                     [dayName]="day.name"></app-day>
          </div>
        }
      }
    </div>
    <!-- Helg (lördag-söndag) -->
    <div class="weekend" [class.d-none]="!showWeekends()">
      @for (day of days; track i; let i = $index) {
        @if (day.name === 'Lördag' || day.name === 'Söndag') {
          <div>
            <app-day [formGroup]="day.group"
                     [weekNo]="formattedWeekNo"
                     [dayName]="day.name"></app-day>
          </div>
        }
      }
    </div>
  </div>
</div>
